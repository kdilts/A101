<html>
<head><script>

var gfx;

var mx; var my;

var dist = 3;

var area = [ 1, 4, 9 ];
var intensity = [ 1, .25, 1/9 ];
var iStr = ['L', 'L/4', 'L/9'];
var aStr = ['A', '4A', '9A'];

window.onload = function(){
	gfx = document.getElementById('myCanvas').getContext('2d');

	draw();
}

window.onmousemove = function(e){
	mx = e.x; my = e.y;
	if(!mx){
		mx = e.clientX; my = e.clientY;
	}
}

window.onmousedown = function(e){
	if(my > 560 && my < 600){
		if(mx > 180 && mx < 325){
			dist = 1;
		}
		if(mx > 328 && mx < 470){
			dist = 2;
		}
		if(mx > 472 && mx < 600){
			dist = 3;
		}
		draw();
	}
}

drawLight = function(){
	
	if(dist === 1){
		gfx.fillStyle = 'white';
		gfx.strokeStyle = 'white';
	}
	else if(dist === 2){
		var i = Math.floor(255/4);
		gfx.fillStyle = 'rgb('+i+','+i+','+i+')';
		gfx.strokeStyle = 'rgb('+i+','+i+','+i+')';
	}else{
		var i = Math.floor(255/9);
		gfx.fillStyle = 'rgb('+i+','+i+','+i+')';
		gfx.strokeStyle = 'rgb('+i+','+i+','+i+')';
	}

	gfx.beginPath();
	gfx.arc(300,270,26*area[dist-1],0,Math.PI*2);
	gfx.fill();
	gfx.stroke();

	gfx.fillStyle = 'white';
	gfx.strokeStyle = 'white';
	gfx.fillText('Area = ' + aStr[dist-1],10,550);
	gfx.fillText('Lux = ' + iStr[dist-1],440,550);
}

drawMenu = function(){

	gfx.fillStyle = 'white';
	gfx.fillRect(0,557,600,2);
	for(var x = 0; x < 3; x++){ gfx.fillRect(180+x*145,600,2,-42); }

	gfx.fillStyle = 'blue';
	if(dist === 1){
		gfx.fillRect(181,559,145,41);
	}
	else if(dist === 2){
		gfx.fillRect(181+145,559,145,41);
	}
	else{
		gfx.fillRect(181+145*2,559,145,41);
	}

	gfx.fillStyle = 'white';
	gfx.font = '30px Verdana';
	gfx.fillText('Distance =     D          2*D       3*D', 10, 590);
}

draw = function(){
	gfx.fillStyle = 'black';
	gfx.fillRect(0,0,600,600);

	drawMenu();
	drawLight();
}

</script></head>
<body bgcolor = 'grey'>
	<canvas id = 'myCanvas' width='600' height='600' style='position:absolute; left:0; top:0'></canvas>
</body>
</html>